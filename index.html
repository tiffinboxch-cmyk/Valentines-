<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
body {
    margin: 0;
    font-family: Arial, "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif;
    background: #ffc0cb;
    text-align: center;
    overflow-x: hidden;
}

.screen { display: none; padding: 40px 20px; }
.active { display: block; }

h1 { font-size: 2.8rem; margin-top: 35vh; }

input {
    padding: 10px 15px;
    font-size: 1.1rem;
    border-radius: 15px;
    border: none;
    margin-top: 20px;
}

button {
    padding: 15px 35px;
    font-size: 1.1rem;
    border-radius: 30px;
    border: none;
    background: #ff4d6d;
    color: white;
    margin-top: 30px;
}

.heart {
    position: fixed;
    font-size: 20px;
    animation: float 6s linear forwards;
}

@keyframes float {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-700px); opacity: 0; }
}

/* Cupid below Continue button */
.cupid {
    font-size: 40px;
    margin-top: 20px;
    animation: fly 2s infinite alternate;
}

.cupid:nth-child(1) { animation-delay: 0s; }

@keyframes fly {
    from { transform: translateX(-20px); }
    to { transform: translateX(20px); }
}

/* Memory gallery images */
.gallery {
    text-align: center;
}

.gallery img {
    width: 90px;
    border-radius: 15px;
    margin: 10px;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.caption {
    font-weight: bold;
    margin-top: 5px;
}

/* Romantic popup */
.overlay {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    z-index: 999;
}

.popup {
    display: none;
    visibility: hidden;
    position:fixed;
    top:50%; 
    left:50%;
    transform:translate(-50%,-50%);
    background:#fff0f5;
    padding:20px;
    border-radius:25px;
    box-shadow: 0 0 30px pink;
    max-width:90%;
    max-height:80vh;
    overflow-y:auto;
    text-align:center;
    z-index:1000;
    opacity: 0;
    animation: fadeIn 0.7s forwards;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translate(-50%, -55%) scale(0.95); }
    to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    to   { opacity: 0; transform: translate(-50%, -55%) scale(0.95); }
}

@keyframes sparkle {
    0%, 100% { text-shadow: 0 0 2px pink; }
    50% { text-shadow: 0 0 12px #ff69b4, 0 0 15px #ffb6c1; }
}

/* Hearts shot by cupids */
.cupidHeart {
    position: absolute;
    font-size: 16px;
    animation: cupidHeartMove 2s linear forwards;
}

/* Grand explosion hearts/stars */
.explosion {
    position: absolute;
    font-size: 20px;
    animation: explodeAnim 2s ease-out forwards;
}

@keyframes explodeAnim {
    0% { transform: translate(0,0) scale(0.5); opacity: 1; }
    100% { transform: translate(var(--x), var(--y)) scale(1.5); opacity: 0; }
}

/* Final big heart will appear only on YES click */
#bigHeart {
    position: fixed;
    font-size: 120px;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
    opacity:0;
    animation: bigHeartFade 2s forwards;
    z-index: 2000;
}

@keyframes bigHeartFade {
    0% { opacity:0; transform:translate(-50%,-50%) scale(0.5); }
    50% { opacity:1; transform:translate(-50%,-50%) scale(1.4); }
    100% { opacity:1; transform:translate(-50%,-50%) scale(1); }
}

/* Final screen font */
#s5 h1 { font-size: 4rem; font-weight:bold; margin-top:25vh; }
#s5 p { font-size: 2.5rem; font-weight:bold; }
</style>
</head>

<body>

<!-- Screen 0: Password -->
<div class="screen active" id="s0">
    <h1>qual è la cosa che preferisco al mondo? </h1>
    <input type="text" id="pwdInput" placeholder="Rispondi qui" autofocus>
    <button onclick="checkPwd()">Enter</button>
</div>

<!-- Screen 1 -->
<div class="screen" id="s1">
    <h1>Buon San Valentino, baby </h1>
    <button onclick="start()">Continue </button>
    <div class="cupid"></div>
</div>

<!-- Screen 2 -->
<div class="screen" id="s2">
    <h1>What’s my favourite thing about you?</h1>
    <button onclick="quiz()">Your smile </button>
    <button onclick="quiz()">Your talent </button>
    <button onclick="quiz()">Your patience </button>
    <button onclick="quiz()">Your anger </button>
</div>

<!-- Screen 3: Valentines Week -->
<div class="screen" id="s3">
    <h1>Valentines Week </h1>
    <div class="gallery" style="display:grid; grid-template-columns: repeat(4,1fr); gap:10px; justify-items:center;">
        <div>
            <img src="photo1.jpg" onclick="note('As long as you are with me and even after i am gone You will always have a rose from me because you deserve it, My Queen ')">
            <div class="caption">Happy rose day </div>
        </div>
        <div>
            <img src="photo2.jpg" onclick="note('And then suddenly, all the songs reminded me of you. Indha photo le vara madiri i will always kneel down to you if it means i get to hold your hand  ')">
            <div class="caption">Happy propose day </div>
        </div>
        <div>
            <img src="photo3.jpg" onclick="note('I wish our life together will be as sweet as this chocolate, giving us comfort whenever we need it ')">
            <div class="caption">Happy chocolate day </div>
        </div>
        <div>
            <img src="photo4.jpg" onclick="note('Perks of having me as a boyfriend: Youll always have a big squishy teddy bear to cuddle up with and sleep for the rest of your life, No extra cost ')">
            <div class="caption">Happy teddy day </div>
        </div>
    </div>
    <div class="gallery" style="display:grid; grid-template-columns: repeat(3,1fr); gap:10px; justify-items:center; margin-top:10px;">
        <div>
            <img src="photo5.jpg" onclick="note('Idhuku dhane nee kochikite aniku  I promise that i will love you through the highest of highs and the lowest of lows. I promise that i will die for you and more than that i will live for you and for us and for our family. I promise that i will stand by you no matter what and be your biggest supporter in this world. I promise i will choose you every single day for the rest of my life whatever life throws at us. I promise to learn from my mistakes and making sure i be the best possible man for you. I promise Ill give you the happiest life if you choose to stay with me and treat you like the Queen you deserve to be. I promise you the world Azhagii  ')">
            <div class="caption">Happy promise day </div>
        </div>
        <div>
            <img src="photo6.jpg" onclick="note('You will always have a shoulder to cry on and someone to hold you tightly when things go south')">
            <div class="caption">Happy hug day </div>
        </div>
        <div>
            <img src="photo7.jpg" onclick="note('And last youll always have a kiss from me, not just on your lips. On your hands for you are my lady, on your cheeks for you are my mother and on your forehead, for you are my baby ')">
            <div class="caption">Happy kiss day </div>
        </div>
    </div>
    <button onclick="next(4)">Next </button>
</div>

<!-- Screen 4 -->
<div class="screen" id="s4">
    <h1>Will you be my Valentine always? </h1>
    <button onclick="yes()">YES </button>
    <button id="noBtn">NO </button>
</div>

<!-- Screen 5 -->
<div class="screen" id="s5">
    <h1>You are the bane of my existence and the object of all my desires
I Love you Kanmani</h1>
    <p>No matter the distance, you'll always be my HOME </p>
    <div style="font-size:100px;"></div>
</div>

<div class="overlay" id="overlay"></div>
<div class="popup" id="popup">
    <p id="popupText"></p>
    <button onclick="closePop()">Close</button>
</div>

<div id="bigHeart"></div> <!-- will only appear on YES click -->

<audio id="music" src="Poove.mp3" loop></audio>

<script>
const music = document.getElementById("music");
let noCount = 0;

// Hearts everywhere
setInterval(()=>{
    let h=document.createElement("div");
    h.className="heart";
    h.innerHTML="";
    h.style.left=Math.random()*100+"vw";
    h.style.top="100vh";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
},500);

// Password check
function checkPwd(){
    const input = document.getElementById("pwdInput").value.trim();
    if(input.toLowerCase() === "azhagi"){
        // Remove the password screen
        document.getElementById('s0').classList.remove('active');
        // Directly activate screen 1
        document.getElementById('s1').classList.add('active');
        // Start music
        music.play().catch(()=>{});
    } else {
        alert("Incorrect! Try again ");
    }
}

function start(){
    next(2);
}

function next(n){
    document.querySelector('.active').classList.remove('active');
    document.getElementById('s'+n).classList.add('active');
}

function quiz(){
    explode("");
    note("Everything about you is my favourite ");
    setTimeout(()=>next(3),1200);
}

function note(text){
    const popup = document.getElementById("popup");
    const popupText = document.getElementById("popupText");
    popupText.innerHTML = text;
    popupText.style.animation = "sparkle 1s infinite";
    document.getElementById("overlay").style.display = "block";
    popup.style.display = "flex";
    popup.style.visibility = "visible";
    popup.style.animation = "fadeIn 0.7s forwards";
}

function closePop(){
    const popup = document.getElementById("popup");
    popup.style.animation = "fadeOut 0.5s forwards";
    document.getElementById("overlay").style.display="none";
    setTimeout(()=>{ popup.style.display="none"; popup.style.visibility="hidden"; }, 500);
}

function explode(sym){
    for(let i=0;i<30;i++){
        let s=document.createElement("div");
        s.className="heart";
        s.innerHTML=sym;
        s.style.left=Math.random()*100+"vw";
        s.style.top="60vh";
        s.style.fontSize=(15+Math.random()*25)+"px";
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),1500);
    }
}

document.getElementById("noBtn").addEventListener("touchstart",()=>{
    noCount++;
    if(noCount>=10){
        note("<b>Avloodhan unakku mariyadhaiSeruppala adipen naaye Mariyadhaiya yes sollu </b>");
        return;
    }
    let b=document.getElementById("noBtn");
    b.style.position="absolute";
    b.style.left=Math.random()*70+"vw";
    b.style.top=Math.random()*70+"vh";
});

function yes(){
    // Show photo8.jpg popup first
    note("<img src='photo8.jpg' style='width:100%;border-radius:15px;'>");

    // Super magical grand explosion
    const symbols=["","","","",""];
    for(let i=0;i<60;i++){
        let e=document.createElement("div");
        e.className="explosion";
        e.innerHTML=symbols[Math.floor(Math.random()*symbols.length)];
        e.style.left = Math.random()*window.innerWidth+"px";
        e.style.top = Math.random()*window.innerHeight+"px";
        e.style.setProperty('--x', (Math.random()*500-250)+"px");
        e.style.setProperty('--y', (Math.random()*500-250)+"px");
        e.style.fontSize=(20+Math.random()*40)+"px";
        document.body.appendChild(e);
        setTimeout(()=>e.remove(),2500);
    }
    // Big heart fade in
    const bh = document.getElementById("bigHeart");
    bh.style.opacity = 1;
    setTimeout(()=>next(5),2500);
}
</script>

</body>
</html>